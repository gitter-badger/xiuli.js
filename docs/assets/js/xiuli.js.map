{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 8e2241d8ff2cfd3ba4fc","webpack:///./src/matrix/util.js","webpack:///./src/index.js","webpack:///./src/xiuli.js","webpack:///./src/matrix/index.js","webpack:///./src/matrix/vec3.js","webpack:///./src/matrix/mat4.js"],"names":["ARRAY_TYPE","Float32Array","Array","getCSSStyles","el","style","getComputedStyle","result","properties","forEach","value","property","getPropertyValue","xiuli","module","exports","Xiuli","mainContainer","buttons","document","querySelectorAll","main","getElementById","root","parentElement","mainTrans","fromElement","elements","prototype","call","init","bind","element","index","targetId","getAttribute","target","transform","transformOrigin","re","match","x","y","z","secTr","fromCSSTransform","TrVec","fromValues","TrMat","fromTranslation","multiply","negate","offsetWidth","window","innerHeight","offsetHeight","invert","toCssTransform","addEventListener","onMenuClick","eventName","callback","event","Vec3","Mat4","out","a","v","b","a00","a01","a02","a03","a10","a11","a12","a13","a20","a21","a22","a23","a30","a31","a32","a33","b0","b1","b2","b3","b00","b01","b02","b03","b04","b05","b06","b07","b08","b09","b10","b11","det","values","split","matrix","create","parseFloat","copy","slice","map","join"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;;;;AC7DA;;AAEA,IAAMA,aAAa,OAAOC,YAAP,KAAwB,WAAxB,GAAsCA,YAAtC,GAAqDC,KAAxE;;AAEA;;;;;;AAMA,SAASC,YAAT,CAAsBC,EAAtB,EAAyC;AACvC,MAAMC,QAAQC,iBAAiBF,EAAjB,EAAqB,IAArB,CAAd;AACA,MAAMG,SAAS,EAAf;;AAFuC,oCAAZC,UAAY;AAAZA,cAAY;AAAA;;AAGvCA,aAAWC,OAAX,CAAmB,UAACC,KAAD,EAAW;AAC5B,QAAMC,WACJN,MAAMO,gBAAN,cAAkCF,KAAlC,KACAL,MAAMO,gBAAN,WAA+BF,KAA/B,CADA,IAEAL,MAAMO,gBAAN,UAA8BF,KAA9B,CAFA,IAGAL,MAAMO,gBAAN,SAA6BF,KAA7B,CAHA,IAIAL,MAAMO,gBAAN,MAA0BF,KAA1B,CAJA,IAKA,MANF;AAOAH,WAAOG,KAAP,IAAgBC,QAAhB;AACD,GATD;AAUA,SAAOJ,MAAP;AACD;;QAEQP,U,GAAAA,U;QAAYG,Y,GAAAA,Y;;;;;;;;;ACzBrB;;;;;;AAEA;;;;;;;;;;;;;;;AAeA,IAAMU,QAAQ,qBAAd,C,CAlBA;;AAmBAC,OAAOC,OAAP,GAAiBF,KAAjB,C;;;;;;;;;;;;;;;qjBCnBA;;AAEA;;;;IAEqBG,K;AACnB,mBAAqC;AAAA,QAAzBC,aAAyB,uEAAT,OAAS;;AAAA;;AACnC,QAAMC,UAAUC,SAASC,gBAAT,CAA0B,gBAA1B,CAAhB;AACA,SAAKC,IAAL,GAAYF,SAASG,cAAT,CAAwBL,aAAxB,CAAZ;AACA,SAAKM,IAAL,GAAY,KAAKF,IAAL,CAAUG,aAAtB;AACA;;;;;;;AAOA,SAAKC,SAAL,GAAiB,aAAKC,WAAL,CAAiB,KAAKL,IAAtB,CAAjB;;AAEA,SAAKM,QAAL,GAAgB,EAAhB;AACAzB,UAAM0B,SAAN,CAAgBnB,OAAhB,CAAwBoB,IAAxB,CAA6BX,OAA7B,EAAsC,KAAKY,IAAL,CAAUC,IAAV,CAAe,IAAf,CAAtC;AACD;;;;yBAEIC,O,EAASC,K,EAAO;AACnB,UAAMC,WAAWF,QAAQG,YAAR,CAAqB,cAArB,CAAjB;AACA,UAAMC,SAASjB,SAASG,cAAT,CAAwBY,QAAxB,CAAf;;AAFmB,0BAGwC,0BAAaE,MAAb,EAAqB,WAArB,EAAkC,kBAAlC,CAHxC;AAAA,UAGXC,SAHW,iBAGXA,SAHW;AAAA,UAGoBC,eAHpB,iBAGA,kBAHA;;AAInB,UAAMC,KAAK,uBAAX;;AAJmB,kCAKiBD,gBAAgBE,KAAhB,CAAsBD,EAAtB,CALjB;AAAA;AAAA;AAAA,UAKZE,CALY,0CAKR,GALQ;AAAA;AAAA,UAKHC,CALG,0CAKC,GALD;AAAA;AAAA,UAKMC,CALN,0CAKU,GALV;;AAOnB,UAAMC,QAAQ,aAAKC,gBAAL,CAAsBR,SAAtB,CAAd;AACA,UAAMS,QAAQ,aAAKC,UAAL,CAAgBN,CAAhB,EAAmBC,CAAnB,EAAsBC,CAAtB,CAAd;AACA,UAAMK,QAAQ,aAAKC,eAAL,CAAqBH,KAArB,CAAd;AACA,mBAAKI,QAAL,CAAcF,KAAd,EAAqBJ,KAArB,EAA4BA,KAA5B;AACA,mBAAKO,MAAL,CAAYL,KAAZ,EAAmBA,KAAnB;AACAA,YAAM,CAAN,KAAY,CAAC,KAAKvB,IAAL,CAAU6B,WAAV,GAAwBhB,OAAOgB,WAAhC,IAA+C,CAA3D;AACAN,YAAM,CAAN,KAAY,CAACO,OAAOC,WAAP,GAAqBlB,OAAOmB,YAA7B,IAA6C,CAAzD;AACA,mBAAKN,eAAL,CAAqBH,KAArB,EAA4BE,KAA5B;;AAEA,mBAAKE,QAAL,CAAcN,KAAd,EAAqBI,KAArB,EAA4BJ,KAA5B;;AAEA,mBAAKY,MAAL,CAAYZ,KAAZ,EAAmBA,KAAnB;AACA,mBAAKM,QAAL,CAAc,KAAKzB,SAAnB,EAA8BmB,KAA9B,EAAqCA,KAArC;;AAEA,WAAKjB,QAAL,CAAcO,QAAd,IAA0B,aAAKuB,cAAL,CAAoBb,KAApB,CAA1B;AACA,UAAIX,UAAU,CAAd,EAAiB;AACf,aAAKZ,IAAL,CAAUhB,KAAV,CAAgBgC,SAAhB,GAA4B,KAAKV,QAAL,CAAcO,QAAd,CAA5B;AACD;AACDF,cAAQ0B,gBAAR,CAAyB,OAAzB,EAAkC,KAAKC,WAAL,CAAiB5B,IAAjB,CAAsB,IAAtB,CAAlC;AACD;;;sCAIE;AAAA,UADDK,MACC,QADDA,MACC;;AACD,UAAMF,WAAWE,OAAOD,YAAP,CAAoB,cAApB,CAAjB;AACA,WAAKd,IAAL,CAAUhB,KAAV,CAAgBgC,SAAhB,GAA4B,KAAKV,QAAL,CAAcO,QAAd,CAA5B;AACD;;;uBAEE0B,S,EAAWC,Q,EAAU;AACtB,WAAKxC,IAAL,CAAUqC,gBAAV,CACEE,SADF,EAEE,UAACE,KAAD,EAAW;AACTD,iBAASC,KAAT;AACD,OAJH,EAKE,KALF;AAOD;;;;;;kBA7DkB9C,K;;;;;;;;;;;;;;ACJrB;;AACA;;;;AACA;;;;;;QAEShB,U;QAAYG,Y;QAAc4D,I;QAAMC,I;;;;;;;;;;;;;qjBCJzC;AACA;;;AACA;;;;AAEA;;;IAGqBD,I;;;;;;;;AACnB;;;;;;;;+BAQkBtB,C,EAAGC,C,EAAGC,C,EAAG;AACzB,UAAMsB,MAAM,qBAAe,CAAf,CAAZ;AACAA,UAAI,CAAJ,IAASxB,CAAT;AACAwB,UAAI,CAAJ,IAASvB,CAAT;AACAuB,UAAI,CAAJ,IAAStB,CAAT;AACA,aAAOsB,GAAP;AACD;;AAED;;;;;;;;;;yBAOYC,C,EAA4B;AAAA,UAAzBD,GAAyB,uEAAnB,qBAAe,CAAf,CAAmB;;AACtCA,UAAI,CAAJ,IAASC,EAAE,CAAF,CAAT;AACAD,UAAI,CAAJ,IAASC,EAAE,CAAF,CAAT;AACAD,UAAI,CAAJ,IAASC,EAAE,CAAF,CAAT;AACA,aAAOD,GAAP;AACD;;AAED;;;;;;;;;;2BAOcC,C,EAA4B;AAAA,UAAzBD,GAAyB,uEAAnB,qBAAe,CAAf,CAAmB;;AACxCA,UAAI,CAAJ,IAAS,CAACC,EAAE,CAAF,CAAV;AACAD,UAAI,CAAJ,IAAS,CAACC,EAAE,CAAF,CAAV;AACAD,UAAI,CAAJ,IAAS,CAACC,EAAE,CAAF,CAAV;AACA,aAAOD,GAAP;AACD;;;;;;kBA3CkBF,I;;;;;;;;;;;;;qjBCPrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;AAEA;;;IAGqBC,I;;;;;;;;AACnB;;;;6BAIgB;AACd,UAAMC,MAAM,qBAAe,EAAf,CAAZ;AACAA,UAAI,CAAJ,IAAS,CAAT;AACAA,UAAI,CAAJ,IAAS,CAAT;AACAA,UAAI,CAAJ,IAAS,CAAT;AACAA,UAAI,CAAJ,IAAS,CAAT;AACAA,UAAI,CAAJ,IAAS,CAAT;AACAA,UAAI,CAAJ,IAAS,CAAT;AACAA,UAAI,CAAJ,IAAS,CAAT;AACAA,UAAI,CAAJ,IAAS,CAAT;AACAA,UAAI,CAAJ,IAAS,CAAT;AACAA,UAAI,CAAJ,IAAS,CAAT;AACAA,UAAI,EAAJ,IAAU,CAAV;AACAA,UAAI,EAAJ,IAAU,CAAV;AACAA,UAAI,EAAJ,IAAU,CAAV;AACAA,UAAI,EAAJ,IAAU,CAAV;AACAA,UAAI,EAAJ,IAAU,CAAV;AACAA,UAAI,EAAJ,IAAU,CAAV;AACA,aAAOA,GAAP;AACD;;AAED;;;;;;;;;;yBAOYC,C,EAA6B;AAAA,UAA1BD,GAA0B,uEAApB,qBAAe,EAAf,CAAoB;;AACvCA,UAAI,CAAJ,IAASC,EAAE,CAAF,CAAT;AACAD,UAAI,CAAJ,IAASC,EAAE,CAAF,CAAT;AACAD,UAAI,CAAJ,IAASC,EAAE,CAAF,CAAT;AACAD,UAAI,CAAJ,IAASC,EAAE,CAAF,CAAT;AACAD,UAAI,CAAJ,IAASC,EAAE,CAAF,CAAT;AACAD,UAAI,CAAJ,IAASC,EAAE,CAAF,CAAT;AACAD,UAAI,CAAJ,IAASC,EAAE,CAAF,CAAT;AACAD,UAAI,CAAJ,IAASC,EAAE,CAAF,CAAT;AACAD,UAAI,CAAJ,IAASC,EAAE,CAAF,CAAT;AACAD,UAAI,CAAJ,IAASC,EAAE,CAAF,CAAT;AACAD,UAAI,EAAJ,IAAUC,EAAE,EAAF,CAAV;AACAD,UAAI,EAAJ,IAAUC,EAAE,EAAF,CAAV;AACAD,UAAI,EAAJ,IAAUC,EAAE,EAAF,CAAV;AACAD,UAAI,EAAJ,IAAUC,EAAE,EAAF,CAAV;AACAD,UAAI,EAAJ,IAAUC,EAAE,EAAF,CAAV;AACAD,UAAI,EAAJ,IAAUC,EAAE,EAAF,CAAV;AACA,aAAOD,GAAP;AACD;;AAED;;;;;;;;;;oCAOuBE,C,EAA6B;AAAA,UAA1BF,GAA0B,uEAApB,qBAAe,EAAf,CAAoB;;AAClDA,UAAI,CAAJ,IAAS,CAAT;AACAA,UAAI,CAAJ,IAAS,CAAT;AACAA,UAAI,CAAJ,IAAS,CAAT;AACAA,UAAI,CAAJ,IAAS,CAAT;AACAA,UAAI,CAAJ,IAAS,CAAT;AACAA,UAAI,CAAJ,IAAS,CAAT;AACAA,UAAI,CAAJ,IAAS,CAAT;AACAA,UAAI,CAAJ,IAAS,CAAT;AACAA,UAAI,CAAJ,IAAS,CAAT;AACAA,UAAI,CAAJ,IAAS,CAAT;AACAA,UAAI,EAAJ,IAAU,CAAV;AACAA,UAAI,EAAJ,IAAU,CAAV;AACAA,UAAI,EAAJ,IAAUE,EAAE,CAAF,CAAV;AACAF,UAAI,EAAJ,IAAUE,EAAE,CAAF,CAAV;AACAF,UAAI,EAAJ,IAAUE,EAAE,CAAF,CAAV;AACAF,UAAI,EAAJ,IAAU,CAAV;AACA,aAAOA,GAAP;AACD;;AAED;;;;;;;;;;;6BAQgBC,C,EAAGE,C,EAA6B;AAAA,UAA1BH,GAA0B,uEAApB,qBAAe,EAAf,CAAoB;;AAC9C,UAAMI,MAAMH,EAAE,CAAF,CAAZ;AAAA,UACEI,MAAMJ,EAAE,CAAF,CADR;AAAA,UAEEK,MAAML,EAAE,CAAF,CAFR;AAAA,UAGEM,MAAMN,EAAE,CAAF,CAHR;AAAA,UAIEO,MAAMP,EAAE,CAAF,CAJR;AAAA,UAKEQ,MAAMR,EAAE,CAAF,CALR;AAAA,UAMES,MAAMT,EAAE,CAAF,CANR;AAAA,UAOEU,MAAMV,EAAE,CAAF,CAPR;AAAA,UAQEW,MAAMX,EAAE,CAAF,CARR;AAAA,UASEY,MAAMZ,EAAE,CAAF,CATR;AAAA,UAUEa,MAAMb,EAAE,EAAF,CAVR;AAAA,UAWEc,MAAMd,EAAE,EAAF,CAXR;AAAA,UAYEe,MAAMf,EAAE,EAAF,CAZR;AAAA,UAaEgB,MAAMhB,EAAE,EAAF,CAbR;AAAA,UAcEiB,MAAMjB,EAAE,EAAF,CAdR;AAAA,UAeEkB,MAAMlB,EAAE,EAAF,CAfR;;AAiBA;AACA,UAAImB,KAAKjB,EAAE,CAAF,CAAT;AAAA,UACEkB,KAAKlB,EAAE,CAAF,CADP;AAAA,UAEEmB,KAAKnB,EAAE,CAAF,CAFP;AAAA,UAGEoB,KAAKpB,EAAE,CAAF,CAHP;;AAKA;AACAH,UAAI,CAAJ,IAAUoB,KAAKhB,GAAN,GAAciB,KAAKb,GAAnB,GAA2Bc,KAAKV,GAAhC,GAAwCW,KAAKP,GAAtD;AACA;AACAhB,UAAI,CAAJ,IAAUoB,KAAKf,GAAN,GAAcgB,KAAKZ,GAAnB,GAA2Ba,KAAKT,GAAhC,GAAwCU,KAAKN,GAAtD;AACAjB,UAAI,CAAJ,IAAUoB,KAAKd,GAAN,GAAce,KAAKX,GAAnB,GAA2BY,KAAKR,GAAhC,GAAwCS,KAAKL,GAAtD;AACAlB,UAAI,CAAJ,IAAUoB,KAAKb,GAAN,GAAcc,KAAKV,GAAnB,GAA2BW,KAAKP,GAAhC,GAAwCQ,KAAKJ,GAAtD;;AAEAC,WAAKjB,EAAE,CAAF,CAAL;AACAkB,WAAKlB,EAAE,CAAF,CAAL;AACAmB,WAAKnB,EAAE,CAAF,CAAL;AACAoB,WAAKpB,EAAE,CAAF,CAAL;AACAH,UAAI,CAAJ,IAAUoB,KAAKhB,GAAN,GAAciB,KAAKb,GAAnB,GAA2Bc,KAAKV,GAAhC,GAAwCW,KAAKP,GAAtD;AACAhB,UAAI,CAAJ,IAAUoB,KAAKf,GAAN,GAAcgB,KAAKZ,GAAnB,GAA2Ba,KAAKT,GAAhC,GAAwCU,KAAKN,GAAtD;AACAjB,UAAI,CAAJ,IAAUoB,KAAKd,GAAN,GAAce,KAAKX,GAAnB,GAA2BY,KAAKR,GAAhC,GAAwCS,KAAKL,GAAtD;AACAlB,UAAI,CAAJ,IAAUoB,KAAKb,GAAN,GAAcc,KAAKV,GAAnB,GAA2BW,KAAKP,GAAhC,GAAwCQ,KAAKJ,GAAtD;;AAEAC,WAAKjB,EAAE,CAAF,CAAL;AACAkB,WAAKlB,EAAE,CAAF,CAAL;AACAmB,WAAKnB,EAAE,EAAF,CAAL;AACAoB,WAAKpB,EAAE,EAAF,CAAL;AACAH,UAAI,CAAJ,IAAUoB,KAAKhB,GAAN,GAAciB,KAAKb,GAAnB,GAA2Bc,KAAKV,GAAhC,GAAwCW,KAAKP,GAAtD;AACAhB,UAAI,CAAJ,IAAUoB,KAAKf,GAAN,GAAcgB,KAAKZ,GAAnB,GAA2Ba,KAAKT,GAAhC,GAAwCU,KAAKN,GAAtD;AACAjB,UAAI,EAAJ,IAAWoB,KAAKd,GAAN,GAAce,KAAKX,GAAnB,GAA2BY,KAAKR,GAAhC,GAAwCS,KAAKL,GAAvD;AACAlB,UAAI,EAAJ,IAAWoB,KAAKb,GAAN,GAAcc,KAAKV,GAAnB,GAA2BW,KAAKP,GAAhC,GAAwCQ,KAAKJ,GAAvD;;AAEAC,WAAKjB,EAAE,EAAF,CAAL;AACAkB,WAAKlB,EAAE,EAAF,CAAL;AACAmB,WAAKnB,EAAE,EAAF,CAAL;AACAoB,WAAKpB,EAAE,EAAF,CAAL;AACAH,UAAI,EAAJ,IAAWoB,KAAKhB,GAAN,GAAciB,KAAKb,GAAnB,GAA2Bc,KAAKV,GAAhC,GAAwCW,KAAKP,GAAvD;AACAhB,UAAI,EAAJ,IAAWoB,KAAKf,GAAN,GAAcgB,KAAKZ,GAAnB,GAA2Ba,KAAKT,GAAhC,GAAwCU,KAAKN,GAAvD;AACAjB,UAAI,EAAJ,IAAWoB,KAAKd,GAAN,GAAce,KAAKX,GAAnB,GAA2BY,KAAKR,GAAhC,GAAwCS,KAAKL,GAAvD;AACAlB,UAAI,EAAJ,IAAWoB,KAAKb,GAAN,GAAcc,KAAKV,GAAnB,GAA2BW,KAAKP,GAAhC,GAAwCQ,KAAKJ,GAAvD;AACA,aAAOnB,GAAP;AACD;;AAED;;;;;;;;;;2BAOcC,C,EAA6B;AAAA,UAA1BD,GAA0B,uEAApB,qBAAe,EAAf,CAAoB;;AACzC,UAAMI,MAAMH,EAAE,CAAF,CAAZ;AAAA,UACEI,MAAMJ,EAAE,CAAF,CADR;AAAA,UAEEK,MAAML,EAAE,CAAF,CAFR;AAAA,UAGEM,MAAMN,EAAE,CAAF,CAHR;AAAA,UAIEO,MAAMP,EAAE,CAAF,CAJR;AAAA,UAKEQ,MAAMR,EAAE,CAAF,CALR;AAAA,UAMES,MAAMT,EAAE,CAAF,CANR;AAAA,UAOEU,MAAMV,EAAE,CAAF,CAPR;AAAA,UAQEW,MAAMX,EAAE,CAAF,CARR;AAAA,UASEY,MAAMZ,EAAE,CAAF,CATR;AAAA,UAUEa,MAAMb,EAAE,EAAF,CAVR;AAAA,UAWEc,MAAMd,EAAE,EAAF,CAXR;AAAA,UAYEe,MAAMf,EAAE,EAAF,CAZR;AAAA,UAaEgB,MAAMhB,EAAE,EAAF,CAbR;AAAA,UAcEiB,MAAMjB,EAAE,EAAF,CAdR;AAAA,UAeEkB,MAAMlB,EAAE,EAAF,CAfR;AAAA,UAiBEuB,MAAOpB,MAAMK,GAAP,GAAeJ,MAAMG,GAjB7B;AAAA,UAkBEiB,MAAOrB,MAAMM,GAAP,GAAeJ,MAAME,GAlB7B;AAAA,UAmBEkB,MAAOtB,MAAMO,GAAP,GAAeJ,MAAMC,GAnB7B;AAAA,UAoBEmB,MAAOtB,MAAMK,GAAP,GAAeJ,MAAMG,GApB7B;AAAA,UAqBEmB,MAAOvB,MAAMM,GAAP,GAAeJ,MAAME,GArB7B;AAAA,UAsBEoB,MAAOvB,MAAMK,GAAP,GAAeJ,MAAMG,GAtB7B;AAAA,UAuBEoB,MAAOlB,MAAMK,GAAP,GAAeJ,MAAMG,GAvB7B;AAAA,UAwBEe,MAAOnB,MAAMM,GAAP,GAAeJ,MAAME,GAxB7B;AAAA,UAyBEgB,MAAOpB,MAAMO,GAAP,GAAeJ,MAAMC,GAzB7B;AAAA,UA0BEiB,MAAOpB,MAAMK,GAAP,GAAeJ,MAAMG,GA1B7B;AAAA,UA2BEiB,MAAOrB,MAAMM,GAAP,GAAeJ,MAAME,GA3B7B;AAAA,UA4BEkB,MAAOrB,MAAMK,GAAP,GAAeJ,MAAMG,GA5B7B;;AA8BA;AACA,UAAIkB,MACDZ,MAAMW,GAAP,GAAeV,MAAMS,GAArB,GAA6BR,MAAMO,GAAnC,GAA2CN,MAAMK,GAAjD,GAAyDJ,MAAMG,GAA/D,GAAuEF,MAAMC,GAD/E;;AAGA,UAAI,CAACM,GAAL,EAAU;AACR,eAAO,IAAP;AACD;AACDA,YAAM,MAAMA,GAAZ;;AAEApC,UAAI,CAAJ,IAAS,CAAES,MAAM0B,GAAP,GAAezB,MAAMwB,GAArB,GAA6BvB,MAAMsB,GAApC,IAA4CG,GAArD;AACApC,UAAI,CAAJ,IAAS,CAAEM,MAAM4B,GAAP,GAAe7B,MAAM8B,GAArB,GAA6B5B,MAAM0B,GAApC,IAA4CG,GAArD;AACApC,UAAI,CAAJ,IAAS,CAAEiB,MAAMY,GAAP,GAAeX,MAAMU,GAArB,GAA6BT,MAAMQ,GAApC,IAA4CS,GAArD;AACApC,UAAI,CAAJ,IAAS,CAAEc,MAAMc,GAAP,GAAef,MAAMgB,GAArB,GAA6Bd,MAAMY,GAApC,IAA4CS,GAArD;AACApC,UAAI,CAAJ,IAAS,CAAEU,MAAMsB,GAAP,GAAexB,MAAM2B,GAArB,GAA6BxB,MAAMoB,GAApC,IAA4CK,GAArD;AACApC,UAAI,CAAJ,IAAS,CAAEI,MAAM+B,GAAP,GAAe7B,MAAM0B,GAArB,GAA6BzB,MAAMwB,GAApC,IAA4CK,GAArD;AACApC,UAAI,CAAJ,IAAS,CAAEkB,MAAMQ,GAAP,GAAeV,MAAMa,GAArB,GAA6BV,MAAMM,GAApC,IAA4CW,GAArD;AACApC,UAAI,CAAJ,IAAS,CAAEY,MAAMiB,GAAP,GAAef,MAAMY,GAArB,GAA6BX,MAAMU,GAApC,IAA4CW,GAArD;AACApC,UAAI,CAAJ,IAAS,CAAEQ,MAAM0B,GAAP,GAAezB,MAAMuB,GAArB,GAA6BrB,MAAMmB,GAApC,IAA4CM,GAArD;AACApC,UAAI,CAAJ,IAAS,CAAEK,MAAM2B,GAAP,GAAe5B,MAAM8B,GAArB,GAA6B3B,MAAMuB,GAApC,IAA4CM,GAArD;AACApC,UAAI,EAAJ,IAAU,CAAEgB,MAAMY,GAAP,GAAeX,MAAMS,GAArB,GAA6BP,MAAMK,GAApC,IAA4CY,GAAtD;AACApC,UAAI,EAAJ,IAAU,CAAEa,MAAMa,GAAP,GAAed,MAAMgB,GAArB,GAA6Bb,MAAMS,GAApC,IAA4CY,GAAtD;AACApC,UAAI,EAAJ,IAAU,CAAES,MAAMsB,GAAP,GAAevB,MAAMyB,GAArB,GAA6BvB,MAAMoB,GAApC,IAA4CM,GAAtD;AACApC,UAAI,EAAJ,IAAU,CAAEI,MAAM6B,GAAP,GAAe5B,MAAM0B,GAArB,GAA6BzB,MAAMwB,GAApC,IAA4CM,GAAtD;AACApC,UAAI,EAAJ,IAAU,CAAEiB,MAAMQ,GAAP,GAAeT,MAAMW,GAArB,GAA6BT,MAAMM,GAApC,IAA4CY,GAAtD;AACApC,UAAI,EAAJ,IAAU,CAAEY,MAAMe,GAAP,GAAed,MAAMY,GAArB,GAA6BX,MAAMU,GAApC,IAA4CY,GAAtD;;AAEA,aAAOpC,GAAP;AACD;;AAED;;;;;;;;;qCAMwB5B,S,EAAW;AACjC,UAAME,KAAK,cAAX;AAAA,UACE+D,SAASjE,UAAUkE,KAAV,CAAgBhE,EAAhB,CADX;AAAA,UAEEiE,SAAS,KAAKC,MAAL,EAFX;;AAIA,UAAIH,OAAO,CAAP,MAAc,QAAlB,EAA4B;AAC1BE,eAAO,CAAP,IAAYE,WAAWJ,OAAO,CAAP,CAAX,CAAZ;AACAE,eAAO,CAAP,IAAYE,WAAWJ,OAAO,CAAP,CAAX,CAAZ;AACAE,eAAO,CAAP,IAAYE,WAAWJ,OAAO,CAAP,CAAX,CAAZ;AACAE,eAAO,CAAP,IAAYE,WAAWJ,OAAO,CAAP,CAAX,CAAZ;AACAE,eAAO,EAAP,IAAaE,WAAWJ,OAAO,CAAP,CAAX,CAAb;AACAE,eAAO,EAAP,IAAaE,WAAWJ,OAAO,CAAP,CAAX,CAAb;AACD,OAPD,MAOO,IAAIA,OAAO,CAAP,MAAc,UAAlB,EAA8B;AACnC,aAAKK,IAAL,CAAUL,OAAOM,KAAP,CAAa,CAAb,EAAgB,EAAhB,EAAoBC,GAApB,CAAwB;AAAA,iBAAKH,WAAWvC,CAAX,CAAL;AAAA,SAAxB,CAAV,EAAuDqC,MAAvD;AACD;AACD,aAAOA,MAAP;AACD;;AAED;;;;;;;;;gCAMmBpG,E,EAAI;AAAA,0BACC,wBAAaA,EAAb,EAAiB,WAAjB,CADD;AAAA,UACbiC,SADa,iBACbA,SADa;AAAA,UAEnBmE,MAFmB,GAEV,KAAK3D,gBAAL,CAAsBR,SAAtB,CAFU;;AAGrB,aAAOmE,MAAP;AACD;;AAED;;;;;;;;;mCAMsBnE,S,EAAW;AAC/B,2BAAmBA,UAAUyE,IAAV,CAAe,GAAf,CAAnB;AACD;;;;;;kBAnQkB9C,I","file":"docs/assets/js/xiuli.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"xiuli\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"xiuli\"] = factory();\n\telse\n\t\troot[\"xiuli\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 8e2241d8ff2cfd3ba4fc","/* global getComputedStyle */\n\nconst ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\n\n/**\n * Get CSS transform.\n *\n * @param {HTMLElement} el HTML element\n * @returns {string} transform\n */\nfunction getCSSStyles(el, ...properties) {\n  const style = getComputedStyle(el, null);\n  const result = {};\n  properties.forEach((value) => {\n    const property =\n      style.getPropertyValue(`-webkit-${value}`) ||\n      style.getPropertyValue(`-moz-${value}`) ||\n      style.getPropertyValue(`-ms-${value}`) ||\n      style.getPropertyValue(`-o-${value}`) ||\n      style.getPropertyValue(`${value}`) ||\n      'none';\n    result[value] = property;\n  });\n  return result;\n}\n\nexport { ARRAY_TYPE, getCSSStyles };\n\n\n\n// WEBPACK FOOTER //\n// ./src/matrix/util.js","/* global */\nimport Xiuli from './xiuli';\n\n/* (function initMiuli() {\n  function init() {\n    if (document.getElementById('xiuli')) {\n      const xiuli = new Xiuli();\n      module.exports = xiuli;\n    }\n  }\n  if (\n    document.attachEvent ? document.readyState === 'complete' : document.readyState !== 'loading') {\n    init();\n  } else {\n    document.addEventListener('DOMContentLoaded', init);\n  }\n}()); */\n\nconst xiuli = new Xiuli();\nmodule.exports = xiuli;\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","/* global document window */\n\nimport { Mat4, Vec3, getCSSStyles } from './matrix';\n\nexport default class Xiuli {\n  constructor(mainContainer = 'xiuli') {\n    const buttons = document.querySelectorAll('[xiuli-target]');\n    this.main = document.getElementById(mainContainer);\n    this.root = this.main.parentElement;\n    /* this.main.addEventListener(\n      'transitionend',\n      (event) => {\n        console.log(event);\n      },\n      false,\n    ); */\n    this.mainTrans = Mat4.fromElement(this.main);\n\n    this.elements = {};\n    Array.prototype.forEach.call(buttons, this.init.bind(this));\n  }\n\n  init(element, index) {\n    const targetId = element.getAttribute('xiuli-target');\n    const target = document.getElementById(targetId);\n    const { transform, 'transform-origin': transformOrigin } = getCSSStyles(target, 'transform', 'transform-origin');\n    const re = /[-+]?[0-9]*\\.?[0-9]+/g;\n    const [x = 0.0, y = 0.0, z = 0.0] = transformOrigin.match(re);\n\n    const secTr = Mat4.fromCSSTransform(transform);\n    const TrVec = Vec3.fromValues(x, y, z);\n    const TrMat = Mat4.fromTranslation(TrVec);\n    Mat4.multiply(TrMat, secTr, secTr);\n    Vec3.negate(TrVec, TrVec);\n    TrVec[0] -= (this.root.offsetWidth - target.offsetWidth) / 2;\n    TrVec[1] -= (window.innerHeight - target.offsetHeight) / 2;\n    Mat4.fromTranslation(TrVec, TrMat);\n\n    Mat4.multiply(secTr, TrMat, secTr);\n\n    Mat4.invert(secTr, secTr);\n    Mat4.multiply(this.mainTrans, secTr, secTr);\n\n    this.elements[targetId] = Mat4.toCssTransform(secTr);\n    if (index === 0) {\n      this.main.style.transform = this.elements[targetId];\n    }\n    element.addEventListener('click', this.onMenuClick.bind(this));\n  }\n\n  onMenuClick({\n    target,\n  }) {\n    const targetId = target.getAttribute('xiuli-target');\n    this.main.style.transform = this.elements[targetId];\n  }\n\n  on(eventName, callback) {\n    this.main.addEventListener(\n      eventName,\n      (event) => {\n        callback(event);\n      },\n      false,\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/xiuli.js","import { ARRAY_TYPE, getCSSStyles } from './util';\nimport Vec3 from './vec3';\nimport Mat4 from './mat4';\n\nexport { ARRAY_TYPE, getCSSStyles, Vec3, Mat4 };\n\n\n\n// WEBPACK FOOTER //\n// ./src/matrix/index.js","/* eslint no-param-reassign: [\"error\", { \"ignorePropertyModificationsFor\": [\"out\"]}] */\n/* eslint prefer-destructuring: [\"error\", {AssignmentExpression: {array: false}}] */\nimport { ARRAY_TYPE } from './util';\n\n/**\n * 4 x 4 Matrix\n */\nexport default class Vec3 {\n  /**\n   * Creates a new vec3 initialized with the given values\n   *\n   * @param {Number} x X component\n   * @param {Number} y Y component\n   * @param {Number} z Z component\n   * @returns {vec3} a new 3D vector\n   */\n  static fromValues(x, y, z) {\n    const out = new ARRAY_TYPE(3);\n    out[0] = x;\n    out[1] = y;\n    out[2] = z;\n    return out;\n  }\n\n  /**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} a the source vector\n * @param {vec3} [out = new ARRAY_TYPE(3)] the receiving vector\n * @returns {vec3} out\n */\n  static copy(a, out = new ARRAY_TYPE(3)) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    return out;\n  }\n\n  /**\n   * Negates the components of a vec3\n   *\n   * @param {vec3} a vector to negate\n   * @param {vec3} [out = new ARRAY_TYPE(3)] the receiving vector\n   * @returns {vec3} out\n   */\n  static negate(a, out = new ARRAY_TYPE(3)) {\n    out[0] = -a[0];\n    out[1] = -a[1];\n    out[2] = -a[2];\n    return out;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/matrix/vec3.js","/* eslint no-param-reassign: [\"error\", {\"ignorePropertyModificationsFor\": [\"out\"]}] */\n/* eslint one-var-declaration-per-line: [\"error\", \"always\"] */\n/* eslint one-var: [\"error\", \"always\"] */\n/* eslint prefer-destructuring: [\"error\", {AssignmentExpression: {array: false}}] */\n/* eslint no-mixed-operators: [\"error\", {\"allowSamePrecedence\": true}] */\n/* eslint-env es6 */\n/* eslint no-useless-escape: \"error\" */\n\nimport { ARRAY_TYPE, getCSSStyles } from './util';\n\n/**\n * 4 x 4 Matrix\n */\nexport default class Mat4 {\n  /**\n   * Creates a new 4 x 4 identity Matrix.\n   * @return {Mat4} a new 4 x 4 identity Matrix.\n   */\n  static create() {\n    const out = new ARRAY_TYPE(16);\n    out[0] = 1;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[5] = 1;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[10] = 1;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n    out[15] = 1;\n    return out;\n  }\n\n  /**\n * Copy the values from one mat4 to another\n *\n * @param {mat4} a the source matrix\n * @param {mat4} [out = new ARRAY_TYPE(16)] the receiving matrix\n * @returns {mat4} out\n */\n  static copy(a, out = new ARRAY_TYPE(16)) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n    return out;\n  }\n\n  /**\n   * Creates a matrix from a vector translation\n   *\n   * @param {vec3} v Translation vector\n   * @param {mat4} [out = new ARRAY_TYPE(16)] out mat4 receiving operation result\n   * @returns {mat4} out\n   */\n  static fromTranslation(v, out = new ARRAY_TYPE(16)) {\n    out[0] = 1;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[5] = 1;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[10] = 1;\n    out[11] = 0;\n    out[12] = v[0];\n    out[13] = v[1];\n    out[14] = v[2];\n    out[15] = 1;\n    return out;\n  }\n\n  /**\n   * Multiplies two mat4s\n   *\n   * @param {mat4} a the first operand\n   * @param {mat4} b the second operand\n   * @param {mat4} [out = new ARRAY_TYPE(16)] the receiving matrix\n   * @returns {mat4} out\n   */\n  static multiply(a, b, out = new ARRAY_TYPE(16)) {\n    const a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3],\n      a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7],\n      a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11],\n      a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n\n    // Cache only the current line of the second matrix\n    let b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n\n    /* prettier-ignore */\n    out[0] = (b0 * a00) + (b1 * a10) + (b2 * a20) + (b3 * a30);\n    /* prettier-ignore */\n    out[1] = (b0 * a01) + (b1 * a11) + (b2 * a21) + (b3 * a31);\n    out[2] = (b0 * a02) + (b1 * a12) + (b2 * a22) + (b3 * a32);\n    out[3] = (b0 * a03) + (b1 * a13) + (b2 * a23) + (b3 * a33);\n\n    b0 = b[4];\n    b1 = b[5];\n    b2 = b[6];\n    b3 = b[7];\n    out[4] = (b0 * a00) + (b1 * a10) + (b2 * a20) + (b3 * a30);\n    out[5] = (b0 * a01) + (b1 * a11) + (b2 * a21) + (b3 * a31);\n    out[6] = (b0 * a02) + (b1 * a12) + (b2 * a22) + (b3 * a32);\n    out[7] = (b0 * a03) + (b1 * a13) + (b2 * a23) + (b3 * a33);\n\n    b0 = b[8];\n    b1 = b[9];\n    b2 = b[10];\n    b3 = b[11];\n    out[8] = (b0 * a00) + (b1 * a10) + (b2 * a20) + (b3 * a30);\n    out[9] = (b0 * a01) + (b1 * a11) + (b2 * a21) + (b3 * a31);\n    out[10] = (b0 * a02) + (b1 * a12) + (b2 * a22) + (b3 * a32);\n    out[11] = (b0 * a03) + (b1 * a13) + (b2 * a23) + (b3 * a33);\n\n    b0 = b[12];\n    b1 = b[13];\n    b2 = b[14];\n    b3 = b[15];\n    out[12] = (b0 * a00) + (b1 * a10) + (b2 * a20) + (b3 * a30);\n    out[13] = (b0 * a01) + (b1 * a11) + (b2 * a21) + (b3 * a31);\n    out[14] = (b0 * a02) + (b1 * a12) + (b2 * a22) + (b3 * a32);\n    out[15] = (b0 * a03) + (b1 * a13) + (b2 * a23) + (b3 * a33);\n    return out;\n  }\n\n  /**\n   * Inverts a mat4\n   *\n   * @param {mat4} a the source matrix\n   * @param {mat4} [out = new ARRAY_TYPE(16)] the receiving matrix\n   * @returns {mat4} out\n   */\n  static invert(a, out = new ARRAY_TYPE(16)) {\n    const a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3],\n      a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7],\n      a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11],\n      a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15],\n\n      b00 = (a00 * a11) - (a01 * a10),\n      b01 = (a00 * a12) - (a02 * a10),\n      b02 = (a00 * a13) - (a03 * a10),\n      b03 = (a01 * a12) - (a02 * a11),\n      b04 = (a01 * a13) - (a03 * a11),\n      b05 = (a02 * a13) - (a03 * a12),\n      b06 = (a20 * a31) - (a21 * a30),\n      b07 = (a20 * a32) - (a22 * a30),\n      b08 = (a20 * a33) - (a23 * a30),\n      b09 = (a21 * a32) - (a22 * a31),\n      b10 = (a21 * a33) - (a23 * a31),\n      b11 = (a22 * a33) - (a23 * a32);\n\n    // Calculate the determinant\n    let det =\n      (b00 * b11) - (b01 * b10) + (b02 * b09) + (b03 * b08) - (b04 * b07) + (b05 * b06);\n\n    if (!det) {\n      return null;\n    }\n    det = 1.0 / det;\n\n    out[0] = ((a11 * b11) - (a12 * b10) + (a13 * b09)) * det;\n    out[1] = ((a02 * b10) - (a01 * b11) - (a03 * b09)) * det;\n    out[2] = ((a31 * b05) - (a32 * b04) + (a33 * b03)) * det;\n    out[3] = ((a22 * b04) - (a21 * b05) - (a23 * b03)) * det;\n    out[4] = ((a12 * b08) - (a10 * b11) - (a13 * b07)) * det;\n    out[5] = ((a00 * b11) - (a02 * b08) + (a03 * b07)) * det;\n    out[6] = ((a32 * b02) - (a30 * b05) - (a33 * b01)) * det;\n    out[7] = ((a20 * b05) - (a22 * b02) + (a23 * b01)) * det;\n    out[8] = ((a10 * b10) - (a11 * b08) + (a13 * b06)) * det;\n    out[9] = ((a01 * b08) - (a00 * b10) - (a03 * b06)) * det;\n    out[10] = ((a30 * b04) - (a31 * b02) + (a33 * b00)) * det;\n    out[11] = ((a21 * b02) - (a20 * b04) - (a23 * b00)) * det;\n    out[12] = ((a11 * b07) - (a10 * b09) - (a12 * b06)) * det;\n    out[13] = ((a00 * b09) - (a01 * b07) + (a02 * b06)) * det;\n    out[14] = ((a31 * b01) - (a30 * b03) - (a32 * b00)) * det;\n    out[15] = ((a20 * b03) - (a21 * b01) + (a22 * b00)) * det;\n\n    return out;\n  }\n\n  /**\n   * Creates a new 4 x 4 Matrix from CSS transform.\n   *\n   * @param {string} transform CSS transform\n   * @returns {Mat4} out\n   */\n  static fromCSSTransform(transform) {\n    const re = /\\(|\\)|, |\\s/g,\n      values = transform.split(re),\n      matrix = this.create();\n\n    if (values[0] === 'matrix') {\n      matrix[0] = parseFloat(values[1]);\n      matrix[1] = parseFloat(values[2]);\n      matrix[4] = parseFloat(values[3]);\n      matrix[5] = parseFloat(values[4]);\n      matrix[12] = parseFloat(values[5]);\n      matrix[13] = parseFloat(values[6]);\n    } else if (values[0] === 'matrix3d') {\n      this.copy(values.slice(1, 17).map(v => parseFloat(v)), matrix);\n    }\n    return matrix;\n  }\n\n  /**\n   * Creates a new 4 x 4 Matrix from CSS transform.\n   *\n   * @param {HTMLElement} el CSS transform\n   * @returns {Mat4} out\n   */\n  static fromElement(el) {\n    const { transform } = getCSSStyles(el, 'transform'),\n      matrix = this.fromCSSTransform(transform);\n    return matrix;\n  }\n\n  /**\n   * Convert Mat4 to CSS transform.\n   *\n   * @param {Mat4} transform 4 x 4 Matrix\n   * @returns {string} CSS transform\n   */\n  static toCssTransform(transform) {\n    return `matrix3d(${transform.join(',')})`;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/matrix/mat4.js"],"sourceRoot":""}